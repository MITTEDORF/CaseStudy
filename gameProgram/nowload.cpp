//*****************************************************************************
//
// CFadeクラス [fade.cpp]
// Author :MAI TANABE |KAZUMA OOIGAWA
//
//*****************************************************************************

//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// インクルードファイル
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
#include "nowload.h"
#include "thr_obj.h"
#include "loading_icon.h"
#include "fade.h"
#include "loading_icon.h"
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// 静的変数宣言(大井川)
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// プロトタイプ宣言(大井川)
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// マクロ
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//=============================================================================
// 初期化
//=============================================================================
HRESULT CNLoad::Init(LPDIRECT3DDEVICE9 device)
{
	//----------------------------
	// デバイス取得
	//----------------------------
	m_device = device;

	//----------------------------
	// オブジェクト
	//----------------------------
	InitObject(device);
	//----------------------------
	// 初期化成功
	//----------------------------
	return S_OK;
}
//=============================================================================
// 終了
//=============================================================================
void CNLoad::Uninit(void)
{
	m_load_icon->Uninit();
	delete this;
}
//=============================================================================
// 更新
//=============================================================================
void CNLoad::Update( void )
{
	m_load_icon->Update();
}
//=============================================================================
// 描画
//=============================================================================
void CNLoad::Draw( void )
{
	// バックバッファ＆Ｚバッファのクリア
	m_device->Clear(0, NULL, (D3DCLEAR_TARGET | D3DCLEAR_ZBUFFER), D3DXCOLOR(0.0f, 0.0f, 0.0f, 1.0f), 1.0f, 0);
	if( SUCCEEDED(
		m_device ->BeginScene()))
	{

		m_load_icon->Draw();

		m_device ->EndScene();


	}
	m_device ->Present(NULL,NULL,NULL,NULL);
}
//=============================================================================
// オブジェクト初期化
//=============================================================================
void CNLoad::InitObject( LPDIRECT3DDEVICE9 device )
{
	//----------------------------
	// キャラクター
	//----------------------------

	m_load_icon = CLIcon::Create( device , "./data/TEXTURE/player/default/player_wait.png" , CLIcon::POINT_CENTER , D3DXVECTOR2( ( CLIcon::POLYGON_SIZE * 0.5f ) , SCREEN_HEIGHT-( CLIcon::POLYGON_SIZE * 0.5f ) ) );
}